(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{745:()=>{},3144:(e,t,r)=>{Promise.resolve().then(r.bind(r,8039))},7318:()=>{},8039:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(5155),s=r(2115),l=r(9362);function n(e){let{setInfo:t}=e,r=(0,s.useRef)(),n=(0,s.useRef)();return(0,s.useEffect)(()=>{navigator.mediaDevices.getUserMedia({video:{}}).then(e=>r.current.srcObject=e),(async()=>{let e="/models";await l.B0.tinyFaceDetector.loadFromUri(e),await l.B0.ageGenderNet.loadFromUri(e),await l.B0.faceExpressionNet.loadFromUri(e)})()},[]),(0,a.jsxs)("div",{className:"relative rounded-xl shadow-lg overflow-hidden border border-gray-200 max-w-[720px] w-full",children:[(0,a.jsx)("video",{ref:r,width:720,height:560,autoPlay:!0,muted:!0,onPlay:()=>{let e=n.current,a=r.current,s={width:a.width,height:a.height};l.L0(e,s),setInterval(async()=>{let r=await l.R(a,new l.ex).withAgeAndGender().withFaceExpressions(),n=l.Lz(r,s),i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),n.forEach((e,t)=>{let{x:r,y:a,width:s,height:l}=e.detection.box;i.strokeStyle="rgba(79, 70, 229, 0.8)",i.lineWidth=2,i.shadowColor="rgba(0,0,0,0.2)",i.shadowBlur=4,i.strokeRect(r,a,s,l),i.font="16px Arial",i.fillStyle="rgba(79, 70, 229, 1)",i.fillText("P".concat(t+1),r+5,a-5)}),t(r.map((e,t)=>"P".concat(t+1,": Age: ").concat(Math.round(e.age),", Gender: ").concat(e.gender,", Expression: ").concat(Object.entries(e.expressions).sort((e,t)=>t[1]-e[1])[0][0])).join("\n"))},500)},className:"w-full h-auto object-cover"}),(0,a.jsx)("canvas",{ref:n,className:"absolute top-0 left-0 w-full h-full pointer-events-none"})]})}function i(e){let{info:t}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 w-full max-w-xs flex flex-col justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-800 border-b pb-2 border-gray-200",children:"Information"}),t?(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-gray-700 text-sm leading-relaxed",children:t}):(0,a.jsx)("p",{className:"text-gray-400 italic text-sm",children:"Waiting for detection..."})]})}function o(){let[e,t]=(0,s.useState)("");return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col md:flex-row items-center justify-center p-6 gap-8",children:[(0,a.jsx)("div",{className:"w-full md:w-1/3 flex justify-center",children:(0,a.jsx)(i,{info:e})}),(0,a.jsx)("div",{className:"w-full md:w-2/3 flex justify-center",children:(0,a.jsx)(n,{setInfo:t})})]})}},8082:()=>{}},e=>{e.O(0,[122,445,441,255,358],()=>e(e.s=3144)),_N_E=e.O()}]);